@{
    ViewData["Title"] = "Index HowTo";

    string prevYear = DateTime.Now.AddYears(-1).Year.ToString();
    string thisYear = DateTime.Now.Year.ToString();
    string nextYear = DateTime.Now.AddYears(1).Year.ToString();
}

<div class="container">
    <h3>Добавление полей в базу данных при переходе на новый год</h3>
    <p>Делать в январе - или меняй даты</p>
    <h5>Таблица money_by_month - Тестовый контур</h5>
    <p>INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '2' );
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '3');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '4');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '5');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '6');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '7');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '8');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '9');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '10');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '11');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '12');
        <br />INSERT INTO `money_test`.`money_by_month` (`year`, `month`) VALUES ('@nextYear', '1');
        <br />
        <br />call money_test.MoneyMonthRecalculate('@prevYear-12-01');
        <br />call money_test.MoneyMonthRecalculate('@thisYear-01-01');
    </p>
    <h5>Таблица sec_volume - Тестовый контур</h5>
    <p>
        ALTER TABLE `money_test`.`sec_volume`
        <br />ADD COLUMN `pieces_@thisYear` INT NULL DEFAULT NULL AFTER `volume_@prevYear`,
        <br />ADD COLUMN `av_price_@thisYear` DECIMAL(20,6) NULL DEFAULT NULL AFTER `pieces_@thisYear`,
        <br />ADD COLUMN `volume_@thisYear` DECIMAL(20,6) NULL DEFAULT NULL AFTER `av_price_@thisYear`;
        <br />
        <br />call money_test.SecVolumeFullRecalc('@thisYear');
    </p>

    <br />
    <br />
    <h5>Таблица money_by_month - Прод контур</h5>
    <p>
        INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '2' );
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '3');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '4');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '5');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '6');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '7');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '8');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '9');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '10');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '11');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@thisYear', '12');
        <br />INSERT INTO `money`.`money_by_month` (`year`, `month`) VALUES ('@nextYear', '1');
        <br />
        <br />call money.MoneyMonthRecalculate('@prevYear-12-01');
        <br />call money.MoneyMonthRecalculate('@thisYear-01-01');
    </p>
    <h5>Таблица sec_volume - Прод контур</h5>
    <p>
        ALTER TABLE `money`.`sec_volume`
        <br />ADD COLUMN `pieces_@thisYear` INT NULL DEFAULT NULL AFTER `volume_@prevYear`,
        <br />ADD COLUMN `av_price_@thisYear` DECIMAL(20,6) NULL DEFAULT NULL AFTER `pieces_@thisYear`,
        <br />ADD COLUMN `volume_@thisYear` DECIMAL(20,6) NULL DEFAULT NULL AFTER `av_price_@thisYear`;
        <br />
        <br />call money.SecVolumeFullRecalc('@thisYear');
    </p>

    <br />
    <br />
    <h5>Градиенты зелёного</h5>
    <div style="background-color: #E8F5E9;">Color test #E8F5E9</div>
    <div style="background-color: #C8E6C9;">Color test #C8E6C9</div>
    <div style="background-color: #A5D6A7;">Color test #A5D6A7</div>
    <div style="background-color: #81C784;">Color test #81C784</div>
    <div style="background-color: #66BB6A; color:white;">Color test #66BB6A</div>
    <div style="background-color: #4CAF50; color:white;">Color test #4CAF50</div>
    <div style="background-color: #43A047; color:white;">Color test #43A047</div>
    <div style="background-color: #388E3C; color:white;">Color test #388E3C</div>
    <div style="background-color: #2E7D32; color:white;">Color test #2E7D32</div>
    <div style="background-color: #1B5E20; color:white;">Color test #1B5E20</div>

    <br />
    <br />
    <h5>Заливка тестового контура данными прода</h5>
    <p>TRUNCATE TABLE money_test.deals;
    <br />INSERT INTO money_test.deals SELECT * FROM money.deals ;
    <br />TRUNCATE TABLE money_test.incoming;
    <br />INSERT INTO money_test.incoming SELECT * FROM money.incoming;
    </p>



    <br />
    <br />
    <h5></h5>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
@*
    https://colordesigner.io/gradient-generator

    gradient from black to red   
    #000000
    #220c12
    #3c0f1c
    #580d22
    #740526
    #910028
    #ae0027
    #ca0022
    #e50018
    #ff0000 

    gradient from red to orange
    #ff0000
    #ff2900
    #ff3c00
    #ff4b00
    #ff5700
    #ff6300
    #ff6d00
    #ff7600
    #ff7f00
    #ff8800
 *@
</div>